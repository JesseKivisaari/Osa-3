{"version":3,"sources":["services/persons.js","App.js","index.js"],"names":["axios","get","then","response","data","newObject","post","id","delete","Person","person","removePerson","name","number","onClick","PersonForm","onSubmit","newName","newNumber","nHandler","pHandler","value","onChange","type","App","useState","persons","setPersons","setNewName","setNewNumber","message","setMessage","useEffect","personsService","initialPersons","Notification","className","e","preventDefault","some","window","alert","returnedPersons","concat","setTimeout","target","map","key","console","log","find","p","changedPerson","confirm","filter","removePersonOf","ReactDOM","render","document","getElementById"],"mappings":"uPAiBe,EAdA,WAEX,OADgBA,IAAMC,IAHV,gBAIGC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAY9B,EAVA,SAAAC,GAEX,OADgBL,IAAMM,KAPV,eAOwBD,GACrBH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAQ9B,EANA,SAACG,EAAIF,GAEhB,OADgBL,IAAMQ,OAAN,UAXJ,eAWI,YAA2BD,GAAMF,GAClCH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SCVvCK,EAAS,SAAC,GAA8B,IAA5BC,EAA2B,EAA3BA,OAAQC,EAAmB,EAAnBA,aACtB,OACI,4BAAKD,EAAOE,KAAZ,IAAmBF,EAAOG,OAC1B,4BAAQC,QAASH,GAAjB,cAKFI,EAAa,SAAC,GAA0D,IAAxDC,EAAuD,EAAvDA,SAAUC,EAA6C,EAA7CA,QAASC,EAAoC,EAApCA,UAAWC,EAAyB,EAAzBA,SAAUC,EAAe,EAAfA,SAC1D,OACI,6BACI,0BAAMJ,SAAUA,GACZ,sCACM,2BAAOK,MAAOJ,EAASK,SAAUF,KAEvC,wCACQ,2BAAOC,MAAOH,EAAWI,SAAUH,KAE3C,6BACA,4BAAQI,KAAK,UAAb,WAgHDC,EAzGH,WAAO,IAAD,EACcC,mBAAS,IADvB,mBACTC,EADS,KACAC,EADA,OAEcF,mBAAS,IAFvB,mBAETR,EAFS,KAEAW,EAFA,OAGkBH,mBAAS,IAH3B,mBAGTP,EAHS,KAGEW,EAHF,OAIcJ,mBAAS,MAJvB,mBAITK,EAJS,KAIAC,EAJA,KAMhBC,qBAAU,WACRC,IAEG/B,MAAK,SAAAgC,GACJP,EAAWO,QAEd,IAEH,IAiDMC,EAAe,SAAC,GAAiB,IAAfL,EAAc,EAAdA,QACtB,OAAgB,OAAZA,EACK,KAIP,yBAAKM,UAAU,QACdN,IAaL,OACE,6BACE,yCACA,kBAACK,EAAD,CAAcL,QAASA,IACvB,yCACA,kBAAC,EAAD,CAAYd,SArDE,SAACqB,IACfA,EAAEC,iBACCZ,EAAQa,MAAK,SAAA7B,GAAM,OAAIA,EAAOE,OAASK,OACxCuB,OAAOC,MAAP,UAAgBxB,EAAhB,mCACAW,EAAW,IACXC,EAAa,KAObI,EALqB,CACjBrB,KAAMK,EACNJ,OAAQK,IAKXhB,MAAK,SAAAwC,GACJf,EAAWD,EAAQiB,OAAOD,IAC1Bd,EAAW,IACXC,EAAa,IACbE,EAAW,UAAD,OACEd,EADF,wBAGV2B,YAAW,WACTb,EAAW,QACV,SA8B0BX,SAbV,SAACiB,GAC1BT,EAAWS,EAAEQ,OAAOxB,QAahBF,SAVqB,SAACkB,GAC1BR,EAAaQ,EAAEQ,OAAOxB,QASYJ,QAASA,EAASC,UAAWA,IAE7D,uCACA,6BACGQ,EAAQoB,KAAI,SAACpC,EAAQE,GAAT,OACX,kBAAC,EAAD,CAAQmC,IAAKnC,EAAMF,OAAQA,EAC3BC,aAAc,kBAjFC,SAACJ,GACtByC,QAAQC,IAAI1C,GACZ,IAAMG,EAASgB,EAAQwB,MAAK,SAAAC,GAAC,OAAIA,EAAE5C,KAAOA,KACpC6C,EAAa,eAAQ1C,GAEvB8B,OAAOa,QAAP,iBAAyB3C,EAAOE,KAAhC,4BACFqB,EACQ1B,EAAI6C,GACXlD,MAAK,SAAAC,GACJwB,EAAWD,EAAQ4B,QAAO,SAAA5C,GAAM,OAAIA,EAAOH,KAAOA,EAAKG,EAASP,EAASC,YAE3E2B,EAAW,UAAD,OACErB,EAAOE,KADT,0BAGVgC,YAAW,WACTb,EAAW,QACV,MAiEqBwB,CAAe7C,EAAOH,a,MCtHpDiD,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.e8e2d2c2.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\nconst remove = (id, newObject) => {\n    const request = axios.delete(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n\n}\n\nexport default { getAll, create, remove }","import React, { useState, useEffect } from 'react'\nimport personsService from './services/persons'\n\nconst Person = ({ person, removePerson }) => {\n    return (\n        <li>{person.name} {person.number}\n        <button onClick={removePerson}> Delete </button>\n        </li>\n    )\n}\n\nconst PersonForm = ({ onSubmit, newName, newNumber, nHandler, pHandler }) => {\n    return (\n        <div>\n            <form onSubmit={onSubmit}>\n                <div>\n                name: <input value={newName} onChange={pHandler}/>\n                </div>\n                <div>\n                number: <input value={newNumber} onChange={nHandler}/>\n                </div>\n                <div>\n                <button type=\"submit\">add</button>\n                </div>\n            </form>\n        </div>\n    )\n}\n\nconst App = () => {\n  const [persons, setPersons] = useState([]) \n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [message, setMessage] = useState(null)\n\n  useEffect(() => {\n    personsService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const removePersonOf = (id) => {\n    console.log(id)\n    const person = persons.find(p => p.id === id)\n    const changedPerson = { ...person}\n    \n    if (window.confirm(`Delete ${person.name} from the Phonebook ?`)) {\n      personsService\n      .remove(id, changedPerson)\n      .then(response => {\n        setPersons(persons.filter(person => person.id !== id ? person : response.data))\n      })\n      setMessage(\n        `Person ${person.name} removed succesfully!`\n      )\n      setTimeout(() => {\n        setMessage(null)\n      }, 3000)\n    }\n    \n  }\n  \n  const addPerson = (e) => {\n      e.preventDefault()\n      if(persons.some(person => person.name === newName)){\n        window.alert(`${newName} is already added to phonebook`)\n        setNewName('')\n        setNewNumber('')\n        } else {\n        const personObject = {\n            name: newName,\n            number: newNumber\n        }\n\n        personsService\n        .create(personObject)\n        .then(returnedPersons => {\n          setPersons(persons.concat(returnedPersons))\n          setNewName('')\n          setNewNumber('')\n          setMessage(\n            `Person ${newName} added succesfully!`\n          )\n          setTimeout(() => {\n            setMessage(null)\n          }, 3000)\n        })\n    } \n    \n  }\n  const Notification = ({ message }) => {\n    if (message === null) {\n      return null\n    }\n\n    return (\n      <div className=\"info\">\n      {message}\n      </div>\n    )\n  }\n  \n  const handlePersonChange = (e) => {\n    setNewName(e.target.value)\n  }\n  \n  const handleNumberChange = (e) => {\n    setNewNumber(e.target.value)\n  }\n  \n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message}/>\n      <h2> Add new </h2>\n      <PersonForm onSubmit={addPerson} pHandler={handlePersonChange} \n        nHandler={handleNumberChange} newName={newName} newNumber={newNumber}\n        />\n      <h2>Numbers</h2>\n      <div> \n        {persons.map((person, name) =>\n          <Person key={name} person={person} \n          removePerson={() => removePersonOf(person.id)}\n          />\n        )}\n      </div>\n      \n    </div>\n  )\n}\n\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}